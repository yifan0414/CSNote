---
创建时间: 2024-09-25 12:53
难度: 普及/提高-
URL: 
tags:
  - 动态规划/线性DP
状态: "#complete"
---
### 问题陈述

太郎和次郎将进行以下对战游戏。

最初，他们得到一个序列 $a = (a_{1}, a_{2}, \ldots, a_{N})$。在 $a$ 变为空之前，两位玩家交替进行以下操作，从太郎开始：

-   从 $a$ 的**开始**或**结束**处移除一个元素。该玩家获得 $x$ 分，其中 $x$ 是被移除的元素。

设 $X$ 和 $Y$ 分别为游戏结束时太郎和次郎的总得分。太郎试图最大化 $X - Y$，而次郎试图最小化 $X - Y$。

假设两位玩家都进行最优游戏，找出 $X - Y$ 的最终值。

### 限制条件

-   输入中的所有值均为整数。
-   $1 \leq N \leq 3000$
-   $1 \leq a_{i} \leq 10^9$
## 思路

既然大郎想要最大化 $X-Y$，那么他取得的分数应该越多越好，次郎试图最小化 $X-Y$，那么他取得的分数也应该越多越好。

因此我们设计 $f[l][r]$ 表示当前区间为 $(l,r)$ 时，先手的人得到的最多的分数。

假设先手是 $f[l][r]$，其必然是由 $f[l+1][r]$ 或 $f[l][r-1]$ 转移而来的。

$$
f[l][r] = \max \left\{
\begin{aligned}
sum(l,r) - f[l+1][r] \\
sum(l, r)-f[l][r-1]
\end{aligned}
\right.
$$

