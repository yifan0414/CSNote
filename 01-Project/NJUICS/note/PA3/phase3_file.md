---

excalidraw-plugin: parsed
tags: [excalidraw]

---
==⚠  Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. ⚠==


# Text Elements
PA中的软链接 ^Ls5FSUqb

可以看到nanos-lite中的makefile中有3个软链接 ^cgHxHNeh

ramdisk.img中dummy的位置 ^8y9lubI5

使用 printf "%x %x\n" 28792 433647 得到十六进制 ^3qjoDBTs

使用 hexdump -C ramdisk.img | less 查看镜像文件的内容 ^RbO40u1P

可以看到ELF文件的标志 7f 45 4c 46 ^dMxAu3Ct

%%***>>>text element-link:[[ramdisk是如何构建的]]<<<***%%○整个ramdisk.img 是如何组织的？ ^hrFtObSe

file相关系统调用遇到的问题 ^q31Fy67D

fscanf一次性调用为什么是1024 ^GidyVKXQ

这里是navy-app中的syscall文件，执行了nanos的系统调用 ^DK2gGgdB

○fscanf内部是如何处理缓冲区的， 从文件读， 一次读多少？ ^EHw7NdPd


# Embedded files
721678aa1c8f01a3eb709062c40bdd44a5871f56: [[Pasted Image 20231022162951_758.png]]
ac8dc1685bd129443fe6d1fc68d59e03861499f3: [[Pasted Image 20231022163216_850.png]]
daf73923b6ca35486e1858ca254980f27831231e: [[Pasted Image 20231022163534_909.png]]
8a52bfb3a867afb9f36fc931858327f30ffef830: [[Pasted Image 20231022163702_979.png]]
3e5c7594b2d7af295ede5f9ec0af8e21fb1448a1: [[Pasted Image 20231022235709_598.png]]
3b311dd93e138116e699ba8de53f270996af32cd: [[Pasted Image 20231023000009_671.png]]
573e0d68b251a6879a7d2dddf0aed15e876fb8e2: [[Pasted Image 20231023000057_719.png]]

%%
# Drawing
```json
{
	"type": "excalidraw",
	"version": 2,
	"source": "https://github.com/zsviczian/obsidian-excalidraw-plugin/releases/tag/2.0.14",
	"elements": [
		{
			"type": "text",
			"version": 121,
			"versionNonce": 1319323548,
			"isDeleted": false,
			"id": "Ls5FSUqb",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -335.0961460880543,
			"y": -445.4114402091237,
			"strokeColor": "#1971c2",
			"backgroundColor": "transparent",
			"width": 163.21484375,
			"height": 33.6,
			"seed": 1350678735,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1704529395125,
			"link": null,
			"locked": false,
			"fontSize": 28,
			"fontFamily": 4,
			"text": "PA中的软链接",
			"rawText": "PA中的软链接",
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "PA中的软链接",
			"lineHeight": 1.2,
			"baseline": 25
		},
		{
			"type": "image",
			"version": 280,
			"versionNonce": 162993409,
			"isDeleted": false,
			"id": "5zDHYZZ5isfUhPn5o7-gD",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -325.0387301218169,
			"y": -377.29239590313534,
			"strokeColor": "transparent",
			"backgroundColor": "transparent",
			"width": 452.116591999149,
			"height": 89.44501356397384,
			"seed": 1149213473,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1697963702862,
			"link": null,
			"locked": false,
			"status": "pending",
			"fileId": "721678aa1c8f01a3eb709062c40bdd44a5871f56",
			"scale": [
				1,
				1
			]
		},
		{
			"type": "text",
			"version": 135,
			"versionNonce": 1622243215,
			"isDeleted": false,
			"id": "cgHxHNeh",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -311.1057287222575,
			"y": -243.91568386676613,
			"strokeColor": "#1e1e1e",
			"backgroundColor": "transparent",
			"width": 352.529296875,
			"height": 24,
			"seed": 1709980559,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1697963702862,
			"link": null,
			"locked": false,
			"fontSize": 20,
			"fontFamily": 4,
			"text": "可以看到nanos-lite中的makefile中有3个软链接",
			"rawText": "可以看到nanos-lite中的makefile中有3个软链接",
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "可以看到nanos-lite中的makefile中有3个软链接",
			"lineHeight": 1.2,
			"baseline": 18
		},
		{
			"type": "text",
			"version": 199,
			"versionNonce": 1439404068,
			"isDeleted": false,
			"id": "8y9lubI5",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -333.0902770920725,
			"y": -157.11045931188454,
			"strokeColor": "#1971c2",
			"backgroundColor": "transparent",
			"width": 275.10546875,
			"height": 33.6,
			"seed": 1776668993,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1704529395125,
			"link": null,
			"locked": false,
			"fontSize": 28,
			"fontFamily": 4,
			"text": "ramdisk.img中dummy的位置",
			"rawText": "ramdisk.img中dummy的位置",
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "ramdisk.img中dummy的位置",
			"lineHeight": 1.2,
			"baseline": 25
		},
		{
			"type": "image",
			"version": 33,
			"versionNonce": 1842982319,
			"isDeleted": false,
			"id": "cMj2Qxmb2axHDlvnggNma",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -319.02572884516525,
			"y": -92.95449279580453,
			"strokeColor": "transparent",
			"backgroundColor": "transparent",
			"width": 358.7428421273094,
			"height": 277.2891533351184,
			"seed": 607717839,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1697963702863,
			"link": null,
			"locked": false,
			"status": "pending",
			"fileId": "ac8dc1685bd129443fe6d1fc68d59e03861499f3",
			"scale": [
				1,
				1
			]
		},
		{
			"type": "rectangle",
			"version": 51,
			"versionNonce": 941918401,
			"isDeleted": false,
			"id": "-oaIk7Pzvs8UPLMJum0j6",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -281.7222073297503,
			"y": 162.65361562833755,
			"strokeColor": "#e03131",
			"backgroundColor": "transparent",
			"width": 183.1477741164054,
			"height": 15.975506776508894,
			"seed": 1526906497,
			"groupIds": [],
			"frameId": null,
			"roundness": {
				"type": 3
			},
			"boundElements": [],
			"updated": 1697963702863,
			"link": null,
			"locked": false
		},
		{
			"type": "text",
			"version": 115,
			"versionNonce": 2125264431,
			"isDeleted": false,
			"id": "3qjoDBTs",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -331.93094291306386,
			"y": 217.42678171922518,
			"strokeColor": "#2f9e44",
			"backgroundColor": "transparent",
			"width": 432.236328125,
			"height": 24,
			"seed": 1674199727,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1697963747863,
			"link": null,
			"locked": false,
			"fontSize": 20,
			"fontFamily": 4,
			"text": "使用 printf \"%x %x\\n\" 28792 433647 得到十六进制",
			"rawText": "使用 printf \"%x %x\\n\" 28792 433647 得到十六进制",
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "使用 printf \"%x %x\\n\" 28792 433647 得到十六进制",
			"lineHeight": 1.2,
			"baseline": 18
		},
		{
			"type": "image",
			"version": 126,
			"versionNonce": 543377697,
			"isDeleted": false,
			"id": "dCZ1oO7wGo-yje0w8B5yF",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -327.1814552702088,
			"y": 261.5828666037081,
			"strokeColor": "transparent",
			"backgroundColor": "transparent",
			"width": 248.51098064342514,
			"height": 44.659944347514084,
			"seed": 1323816321,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1697963739375,
			"link": null,
			"locked": false,
			"status": "pending",
			"fileId": "daf73923b6ca35486e1858ca254980f27831231e",
			"scale": [
				1,
				1
			]
		},
		{
			"type": "text",
			"version": 96,
			"versionNonce": 1100022383,
			"isDeleted": false,
			"id": "RbO40u1P",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -327.3665124054901,
			"y": 344.0897283044027,
			"strokeColor": "#2f9e44",
			"backgroundColor": "transparent",
			"width": 463.75,
			"height": 24,
			"seed": 975285249,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1697963775212,
			"link": null,
			"locked": false,
			"fontSize": 20,
			"fontFamily": 4,
			"text": "使用 hexdump -C ramdisk.img | less 查看镜像文件的内容",
			"rawText": "使用 hexdump -C ramdisk.img | less 查看镜像文件的内容",
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "使用 hexdump -C ramdisk.img | less 查看镜像文件的内容",
			"lineHeight": 1.2,
			"baseline": 18
		},
		{
			"type": "image",
			"version": 123,
			"versionNonce": 788853409,
			"isDeleted": false,
			"id": "J-VZcXyy3F1t1Rs8ueT49",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -319.4249993865345,
			"y": 385.9867110648135,
			"strokeColor": "transparent",
			"backgroundColor": "transparent",
			"width": 448.74396454173535,
			"height": 173.2650307536145,
			"seed": 1486111951,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1697963835349,
			"link": null,
			"locked": false,
			"status": "pending",
			"fileId": "8a52bfb3a867afb9f36fc931858327f30ffef830",
			"scale": [
				1,
				1
			]
		},
		{
			"type": "text",
			"version": 106,
			"versionNonce": 1112325007,
			"isDeleted": false,
			"id": "dMxAu3Ct",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -310.15541869720033,
			"y": 579.7028874685461,
			"strokeColor": "#1e1e1e",
			"backgroundColor": "transparent",
			"width": 253.21875,
			"height": 19.2,
			"seed": 28510785,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1697963915185,
			"link": null,
			"locked": false,
			"fontSize": 16,
			"fontFamily": 4,
			"text": "可以看到ELF文件的标志 7f 45 4c 46",
			"rawText": "可以看到ELF文件的标志 7f 45 4c 46",
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "可以看到ELF文件的标志 7f 45 4c 46",
			"lineHeight": 1.2,
			"baseline": 14
		},
		{
			"type": "text",
			"version": 93,
			"versionNonce": 301974052,
			"isDeleted": false,
			"id": "hrFtObSe",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -312.28809829989825,
			"y": 619.4233096218331,
			"strokeColor": "#6741d9",
			"backgroundColor": "transparent",
			"width": 214.2421875,
			"height": 19.2,
			"seed": 1987121647,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1704529174095,
			"link": "[[ramdisk是如何构建的]]",
			"locked": false,
			"fontSize": 16,
			"fontFamily": 4,
			"text": "○整个ramdisk.img 是如何组织的？",
			"rawText": "○整个ramdisk.img 是如何组织的？",
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "○整个ramdisk.img 是如何组织的？",
			"lineHeight": 1.2,
			"baseline": 14
		},
		{
			"type": "text",
			"version": 209,
			"versionNonce": 1787819036,
			"isDeleted": false,
			"id": "q31Fy67D",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": 405.08633395457616,
			"y": -466.8965607900535,
			"strokeColor": "#1971c2",
			"backgroundColor": "transparent",
			"width": 313.87890625,
			"height": 33.6,
			"seed": 1525772399,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1704529395125,
			"link": null,
			"locked": false,
			"fontSize": 28,
			"fontFamily": 4,
			"text": "file相关系统调用遇到的问题",
			"rawText": "file相关系统调用遇到的问题",
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "file相关系统调用遇到的问题",
			"lineHeight": 1.2,
			"baseline": 25
		},
		{
			"type": "image",
			"version": 83,
			"versionNonce": 1615290767,
			"isDeleted": false,
			"id": "laGZk4T27qEKoK4OgNf7n",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": 414.17223933091395,
			"y": -402.60284716039865,
			"strokeColor": "transparent",
			"backgroundColor": "transparent",
			"width": 285.959510638497,
			"height": 212.701332118034,
			"seed": 599534945,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1697990251169,
			"link": null,
			"locked": false,
			"status": "pending",
			"fileId": "3e5c7594b2d7af295ede5f9ec0af8e21fb1448a1",
			"scale": [
				1,
				1
			]
		},
		{
			"type": "rectangle",
			"version": 80,
			"versionNonce": 904722223,
			"isDeleted": false,
			"id": "55j5W7_FwEF8nEqeEF6yl",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": 451.814345518114,
			"y": -294.5816819651086,
			"strokeColor": "#e03131",
			"backgroundColor": "transparent",
			"width": 173.96490882843705,
			"height": 47.44497513502831,
			"seed": 1064929743,
			"groupIds": [],
			"frameId": null,
			"roundness": {
				"type": 3
			},
			"boundElements": [
				{
					"id": "88fWK7Rop6s6q6TOl8H7y",
					"type": "arrow"
				}
			],
			"updated": 1697990266281,
			"link": null,
			"locked": false
		},
		{
			"type": "arrow",
			"version": 132,
			"versionNonce": 1401151599,
			"isDeleted": false,
			"id": "88fWK7Rop6s6q6TOl8H7y",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": 501.5980841375521,
			"y": -244.50087487813437,
			"strokeColor": "#e03131",
			"backgroundColor": "transparent",
			"width": 26.230203184993,
			"height": 124.32340706678707,
			"seed": 1937594497,
			"groupIds": [],
			"frameId": null,
			"roundness": {
				"type": 2
			},
			"boundElements": [],
			"updated": 1697990409110,
			"link": null,
			"locked": false,
			"startBinding": {
				"elementId": "55j5W7_FwEF8nEqeEF6yl",
				"focus": 0.34233266860970296,
				"gap": 2.63583195194596
			},
			"endBinding": {
				"elementId": "GidyVKXQ",
				"focus": -0.8569324237612816,
				"gap": 3.514442602594663
			},
			"lastCommittedPoint": null,
			"startArrowhead": null,
			"endArrowhead": null,
			"points": [
				[
					0,
					0
				],
				[
					-26.230203184993,
					124.32340706678707
				]
			]
		},
		{
			"type": "text",
			"version": 161,
			"versionNonce": 1189666863,
			"isDeleted": false,
			"id": "GidyVKXQ",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": 460.6004520246008,
			"y": -116.66302520875263,
			"strokeColor": "#e03131",
			"backgroundColor": "transparent",
			"width": 192.0234375,
			"height": 19.2,
			"seed": 1095921345,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [
				{
					"id": "88fWK7Rop6s6q6TOl8H7y",
					"type": "arrow"
				}
			],
			"updated": 1697990409109,
			"link": null,
			"locked": false,
			"fontSize": 16,
			"fontFamily": 4,
			"text": "fscanf一次性调用为什么是1024",
			"rawText": "fscanf一次性调用为什么是1024",
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "fscanf一次性调用为什么是1024",
			"lineHeight": 1.2,
			"baseline": 14
		},
		{
			"type": "image",
			"version": 367,
			"versionNonce": 1377011905,
			"isDeleted": false,
			"id": "NX8zRGQPOvShSe_mMQ2zp",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": 768.0869625693332,
			"y": -304.1284108747498,
			"strokeColor": "transparent",
			"backgroundColor": "transparent",
			"width": 403.0783971899255,
			"height": 65.82256654448278,
			"seed": 1804600559,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1697990481981,
			"link": null,
			"locked": false,
			"status": "pending",
			"fileId": "3b311dd93e138116e699ba8de53f270996af32cd",
			"scale": [
				1,
				1
			]
		},
		{
			"type": "text",
			"version": 125,
			"versionNonce": 1213460879,
			"isDeleted": false,
			"id": "DK2gGgdB",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": 744.288987096144,
			"y": -345.5542785845796,
			"strokeColor": "#e03131",
			"backgroundColor": "transparent",
			"width": 423.837890625,
			"height": 24,
			"seed": 796638369,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1697990477030,
			"link": null,
			"locked": false,
			"fontSize": 20,
			"fontFamily": 4,
			"text": "这里是navy-app中的syscall文件，执行了nanos的系统调用",
			"rawText": "这里是navy-app中的syscall文件，执行了nanos的系统调用",
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "这里是navy-app中的syscall文件，执行了nanos的系统调用",
			"lineHeight": 1.2,
			"baseline": 18
		},
		{
			"type": "image",
			"version": 172,
			"versionNonce": 1306655535,
			"isDeleted": false,
			"id": "xls-dH9T0GnxNnouuJ0N3",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": 729.3905309540203,
			"y": -181.47870238055677,
			"strokeColor": "transparent",
			"backgroundColor": "transparent",
			"width": 456.8551623533187,
			"height": 107.23405894126506,
			"seed": 1142730977,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1697990478281,
			"link": null,
			"locked": false,
			"status": "pending",
			"fileId": "573e0d68b251a6879a7d2dddf0aed15e876fb8e2",
			"scale": [
				1,
				1
			]
		},
		{
			"type": "text",
			"version": 293,
			"versionNonce": 1617945116,
			"isDeleted": false,
			"id": "EHw7NdPd",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": 334.1942375937518,
			"y": -78.35806422121397,
			"strokeColor": "#6741d9",
			"backgroundColor": "transparent",
			"width": 374.3828125,
			"height": 19.2,
			"seed": 1153212481,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1704529174095,
			"link": null,
			"locked": false,
			"fontSize": 16,
			"fontFamily": 4,
			"text": "○fscanf内部是如何处理缓冲区的， 从文件读， 一次读多少？",
			"rawText": "○fscanf内部是如何处理缓冲区的， 从文件读， 一次读多少？",
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "○fscanf内部是如何处理缓冲区的， 从文件读， 一次读多少？",
			"lineHeight": 1.2,
			"baseline": 14
		}
	],
	"appState": {
		"theme": "light",
		"viewBackgroundColor": "#ffffff",
		"currentItemStrokeColor": "#e03131",
		"currentItemBackgroundColor": "transparent",
		"currentItemFillStyle": "hachure",
		"currentItemStrokeWidth": 1,
		"currentItemStrokeStyle": "solid",
		"currentItemRoughness": 1,
		"currentItemOpacity": 100,
		"currentItemFontFamily": 4,
		"currentItemFontSize": 20,
		"currentItemTextAlign": "left",
		"currentItemStartArrowhead": null,
		"currentItemEndArrowhead": null,
		"scrollX": 424.9893946846284,
		"scrollY": 817.6088138979121,
		"zoom": {
			"value": 0.6000000000000001
		},
		"currentItemRoundness": "round",
		"gridSize": null,
		"gridColor": {
			"Bold": "#C9C9C9FF",
			"Regular": "#EDEDEDFF"
		},
		"currentStrokeOptions": null,
		"previousGridSize": null,
		"frameRendering": {
			"enabled": true,
			"clip": true,
			"name": true,
			"outline": true
		}
	},
	"files": {}
}
```
%%